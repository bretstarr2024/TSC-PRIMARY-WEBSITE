session_id: "XLVI"
date: "2026-02-25"
branch: main
version: "0.28.4"  # PATCH: ArcadeButton replaces scroll indicator + Cal.com embed fixes

deployment:
  platform: vercel
  url: "tsc-primary-website.vercel.app"
  environment: production
  job_id: "Wz7BovMNlqKphQZEalT2"
  status: triggered

build_verification:
  next_build: PASS
  index_content: SKIP  # Expected without MONGODB_URI

data_structure_consistency:
  status: "not modified"
  notes: "CSS/layout/iframe changes only — no data model modifications."

commits:
  - hash: "00269f8"
    message: "fix: Replace scroll indicator with ArcadeButton, fix Cal.com embed issues"

artifacts_updated:
  - "components/home/HeroSection.tsx — ArcadeButton replaces scroll indicator at bottom-8 with 2.8s fade-in delay"
  - "components/contact/ContactCalendar.tsx — Removed source tracking from notes param; smooth CSS height transitions on container; reduced initial height 700→600"
  - "components/contact/ContactDualPath.tsx — Removed unused ctaSource prop from ContactCalendar"
  - "app/book/page.tsx — Same Cal.com fixes: removed source tracking, smooth height transitions, container ref, reduced initial height 1000→700"
  - "docs/roadmap.md — Session XLVI added, Session XLVII upcoming"

decisions_made:
  - decision: "ArcadeButton replaces the scroll indicator at bottom-8 of homepage hero"
    rationale: "User wanted hero to stay clean (just GAME OVER + subhead). ArcadeButton has similar visual language to the scroll indicator (small, floating, animated) and serves double duty as scroll hint + game trigger. The button is the gateway to discovering all 9 arcade games."
    reversible: true
  - decision: "Remove internal source tracking from Cal.com notes parameter"
    rationale: "The 'Source: contact-calendar' metadata was leaking into the user-visible 'Additional notes' field on the Cal.com booking form. Service context (e.g. 'Interested in: Subscription') is kept — that's useful for the team."
    reversible: true
  - decision: "Replace 'only grow' iframe resize with smooth bidirectional CSS transitions"
    rationale: "The 'only grow' approach prevented jitter but caused a visible black box when Cal.com content was shorter than the iframe. Smooth 0.3s CSS transitions on the container div allow both growing and shrinking without visual jarring."
    reversible: true

explicitly_deferred:
  - "Pipeline infrastructure from AEO — Session XLVII"
  - "MongoDB index on leads collection (timestamp: -1) — Session XLVII"
  - "Chatbot (chaDbot) deployment — future session"
  - "Expand Game Over concept to other page copy — future session"
  - "Vercel Analytics initialization — future session"

next_actions:
  - "Copy pipeline infrastructure from AEO (lib/pipeline/*.ts)"
  - "Create MongoDB index on leads collection (timestamp: -1)"
  - "Expand Game Over concept to other page copy/headlines"
  - "Build chatbot (chaDbot) — copy RAG from AEO"
  - "Initialize Vercel Analytics"

invariants:
  - "Database: tsc collection in MongoDB Atlas (never aeo)"
  - "Deploy hook required after every git push (auto-deploy disabled)"
  - "Donor codebase: /Volumes/Queen Amara/AnswerEngineOptimization.com/"
  - "GTM Kernel: /Volumes/Queen Amara/GTM Kernel/"
  - "Homepage hero: GAME OVER headline + subhead centered in sphere; ArcadeButton at bottom-8 replacing scroll indicator"
  - "Hero + contact hero both have h-64 bottom fade gradients"
  - "CoinSlotCTA is in the bottom CtaSection (not the hero)"
  - "Cal.com notes param: only service context (no internal tracking metadata)"
  - "Cal.com iframe containers use smooth CSS height transitions (0.3s ease)"
  - "All general CTAs -> /contact; service-specific CTAs -> /book"
  - "Pricing page is DONE per user directive — no further changes unless requested"
  - "9 arcade games: all triggered by ArcadeButton (motion.div with role=button)"
  - "Game Over is the site's creative concept"
